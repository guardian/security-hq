# Vulnerability Management

Writing secure software is hard. Unfortunately for Developers the days when this bit cold be handed off to another team
are long gone. [DevSecOps](https://www.csoonline.com/article/3245748/what-is-devsecops-developing-more-secure-applications.html)
is a fairly established thing these days which is the idea that application and infrastructure security should be thought
about 'from the start' - so at the point you're writing code and creating infrastructure.

The other big thing in DevSecOps is that security should be  automated so it doesn't slow development teams down. A great
example of automated security at The Guardian is [Janus](https://github.com/guardian/janus). Unfortunately  there are some
tasks that can't easily be automated, or we haven't got round to automating yet. These areas are discussed below.


## Vulnerabilities via 3rd party libraries
![XKCD Dependency https://xkcd.com/2347/](https://imgs.xkcd.com/comics/dependency_2x.png)

This type of vulnerability will likely be the most time consuming to keep on top of. Pretty much every major open source
library will at some point need updating to fix a security concern. Most of the time this should be as simple as changing
a version number in your build.sbt or package.json file, but it could involve days of work upgrading, for example, your
version of the Play! Framework. All teams should be regularly (at least once a week) addressing this type of vulnerability.

### 1. Find the vulnerabilities
At The Guardian we recommend 2 tools for vulnerabilities: Snyk and Dependabot

#### Snyk
The Guardian has an enterprise account with Snyk, which will scan your repo for vulnerabilities and open PRs where possible
to resolve them. This is the recommended tool for Scala projects. We have unlimited scans with Snyk so you shouldn't
hesitate to enable it in your project. Full documentation exists [here](./snyk.md). For a summary of all Snyk vulnerabilities
at The Guardian in one place you can head to the [Snyk dashboard on Security HQ](https://security-hq.gutools.co.uk/snyk) 
(VPN required).

#### Dependabot
Dependabot is a similar tool by Github. For TypeScript/Javascript projects you might choose to use this instead of Snyk
as it integrates so well with the Github UI. It opens automated PRs, but you can also see more detail, including any PRs
that have been ignored/closed in the 'Security' tab of your repo. One downside of Dependabot is that there's no API, so 
the only way of checking dependency issues is by going to each repo one by one.  